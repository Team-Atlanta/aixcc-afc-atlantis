# Reachability Analysis Using Sootup

- Reachability analysis using call graph generated by Sootup + Pointer Analysis using Qilin

## Build

```bash
# Clone submodules
git submodule update --init --recursive

# Build patched SootUp
cd deps/SootUp && mvn clean install -DskipTests

# Build SootupReachabilityAnalyser and copy jar to python sarif package
mvn clean package && cp ./target/sootup-reachability.jar ../sarif/sarif/static
```

## Usage
- Basically, it can be run from the python sarif package. Refer to `sarif.validator.reachability.sootup`.
- It's also possible to directly run the built jar file.

```bash
# Get all reachable methods from entry point
$ java -jar ./target/sootup-reachability.jar get-all-reachable-methods [--cg-method=<cgMethod>] [--jre-path=<jrePath>] [-o=<outPath>] [--pta-algorithm=<ptaAlgorithm>] <inputDir>

Get all reachable methods from entry point
      <inputDir>             Directory containing JAR or source files.
      --cg-method=<cgMethod> CG method
      --jre-path=<jrePath>   JRE path
  -o, --output=<outPath>     Output file path
      --pta-algorithm=<ptaAlgorithm>
                             PTA algorithm

# Check if sink method is reachable from entry point
$ java -jar ./target/sootup-reachability.jar check-reachability [--cg-method=<cgMethod>][--jre-path=<jrePath>] [-o=<outPath>] [--pta-algorithm=<ptaAlgorithm>] <inputDir> <sinkMethodSignature>

Check if sink method is reachable from entry point
      <inputDir>             Directory containing JAR or source files.
      <sinkMethodSignature>  Sink method signature
      --cg-method=<cgMethod> CG method
      --jre-path=<jrePath>   JRE path
  -o, --output=<outPath>     Output file path
      --pta-algorithm=<ptaAlgorithm>
                             PTA algorithm
```